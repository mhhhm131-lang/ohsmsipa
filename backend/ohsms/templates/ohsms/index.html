{% load static %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>OHSMS โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ููุจูุงุบุงุช</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">

</head>
<body>
<header class="top-header">
  <h1>ูุธุงู ุฅุฏุงุฑุฉ ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ โ OHSMS</h1>
  <p>ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ โ ุฅุฏุฎุงู ุงูุจูุงุบุงุช</p>
</header>

<div class="main-wrapper">
      
 <aside class="sidebar">
<h3>ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</h3>
<a class="nav-link" href="{% url 'home' %}" data-perm="view_home">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
<a class="nav-link" href="{% url 'reports' %}" data-perm="view_reports">ูุธุงู ุงูุจูุงุบุงุช / ุณุฌู ุงููุชุงุจุนุฉ</a>
<a class="nav-link" href="{% url 'risk' %}" data-perm="view_risks">ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</a>
<a class="nav-link" href="awareness.html" data-perm="view_awareness">ุงูุชูุนูุฉ ูุงูุชุซููู</a>
<a class="nav-link" href="vendors.html" data-perm="view_partners">ุงูุนููุงุก ูุงูุดุฑูุงุก</a>
<a class="nav-link" href="{% url 'forms' %}" data-perm="view_forms">ุงูููุงุฐุฌ ุงูุฑูููุฉ</a>
<a class="nav-link" href="{% url 'dashboard' %}" data-perm="view_dashboard">ููุญุฉ ุงูุชุญูู</a>
<a class="nav-link" href="{% url 'system' %}" data-perm="view_system">ุฅุฏุงุฑุฉ ุงููุธุงู</a>

</aside>







  <main class="content">
    <section class="card">
      <h2><span class="emoji">๐</span>ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุธุงู</h2>
      <p class="hint">ูุฐุง ูู ูุฑูุฒ ุงููุธุงูุ ููููู ูู ุฎูุงูู ุฅุฏุฎุงู ุงูุจูุงุบุงุช ุซู ูุชุงุจุนุชูุง ูู ุตูุญุฉ "ูุธุงู ุงูุจูุงุบุงุช / ุณุฌู ุงููุชุงุจุนุฉ".</p>

      <div class="grid-3">
        <div class="info-box info-policy">
          <strong>ุงูุณูุงุณุฉ</strong>
          <p>ุชูุชุฒู ุงูููุดุฃุฉ ุจุชุทุจูู ุฃุนูู ูุนุงููุฑ ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ.</p>
        </div>
        <div class="info-box info-goals">
          <strong>ุงูุฃูุฏุงู</strong>
          <ul style="margin-right:18px;margin-top:4px">
            <li>ุชูููู ุงูุญูุงุฏุซ ุงูููููุฉ.</li>
            <li>ุฑูุน ุงููุนู ุจุงูุณูุงูุฉ.</li>
            <li>ุชุญุณูู ุงูุงูุชุฒุงู ุจุงูุชุนูููุงุช.</li>
          </ul>
        </div>
        <div class="info-box info-scope">
          <strong>ุงููุทุงู</strong>
          <p>ูุดูู ุงููุธุงู ุฌููุน ุงููุฑูุน ูุงูุฅุฏุงุฑุงุช ูุงูุฃูุดุทุฉ ุงูุชุดุบูููุฉ.</p>
        </div>
      </div>
    </section>

    <section class="card">
  <h2><span class="emoji">๐</span>ุฅุฏุฎุงู ุจูุงุบ ุฌุฏูุฏ</h2>
  <p class="hint">ุงุฎุชุฑ ููุน ุงูุจูุงุบ ูู ุงูุฃุฒุฑุงุฑ ุงูุชุงููุฉ. ุณูุชู ุญูุธ ุฌููุน ุงูุจูุงุบุงุช ูู ุณุฌู ุงููุชุงุจุนุฉ.</p>

  <div class="report-actions">
    <!-- ุจูุงุบ ุนุงุฏู: ูุชุทูุจ ุชุณุฌูู ุฏุฎูู -->
    <button type="button" class="btn btn-normal" onclick="openNormalModal()">
      ๐ ุจูุงุบ ุนุงุฏู
    </button>

    <!-- ุจูุงุบ ุนุงุฌู: ุจุฏูู ุชุณุฌูู ุฏุฎูู -->
    <button type="button" class="btn btn-urgent" onclick="openUrgentModal()">
      ๐จ ุจูุงุบ ุนุงุฌู
    </button>

    <!-- ุจูุงุบ ุณุฑู: ุจุฏูู ุชุณุฌูู ุฏุฎูู -->
    <button type="button" class="btn btn-secret" onclick="openSecretModal()">
      ๐ ุจูุงุบ ุณุฑู
    </button>
  </div>
</section>

  
      <div id="homeMsg" class="success-msg"></div>
    </section>
  </main>
</div>

<!-- ููุฏุงู ุจูุงุบ ุนุงุฏู -->
<div id="modal-normal" class="modal hidden">
  <div class="modal-box">
    <h3>๐ต ุจูุงุบ ุนุงุฏู</h3>
    <p class="modal-hint">ููุณุชุฎุฏู ููุจูุงุบุงุช ุงูุนุงูุฉ ุงูุชู ูุง ุชุชุทูุจ ุณุฑูุฉ ุฃู ุนุงุฌููุฉ.</p>
    <label>ุงุณู ุงููุจููุบ</label>
    <input id="n-name" class="input" placeholder="ุงุฎุชูุงุฑู">
    <label>ูุณููุฉ ุงูุชูุงุตู (ุฌูุงู / ุจุฑูุฏ ุฅููุชุฑููู)</label>
    <input id="n-contact" class="input" placeholder="ุงุฎุชูุงุฑู โ ููุชูุงุตู ุนูุฏ ุงูุญุงุฌุฉ">
    <label>ุงููููุน / ุงูุฌูุฉ / ุงููุฑุน</label>
    <input id="n-location" class="input" placeholder="ูุซุงู: ูุจูู ุฑูู 3 โ ุงูุฏูุฑ ุงูุซุงูู">
    <label>ููุน ุงูุฎุทุฑ</label>
    <input id="n-danger" class="input" placeholder="ูุซุงู: ุฎุทุฑ ููุฑุจุงุฆูุ ููุฒููุงุชุ ููุงุฏ ููููุงุฆูุฉ">
    <label>ูุตู ุงูุจูุงุบ</label>
    <textarea id="n-desc" class="textarea" placeholder="ุงูุชุจ ููุง ุชูุงุตูู ุงูุจูุงุบ..."></textarea>
    <div class="modal-actions">
      <button class="btn btn-primary" onclick="submitNormal()">ุฅุฑุณุงู ุงูุจูุงุบ</button>
      <button class="btn btn-secondary" onclick="closeModal()">ุฅุบูุงู</button>
    </div>
  </div>
</div>

<!-- ููุฏุงู ุจูุงุบ ุณุฑู -->
<div id="modal-secret" class="modal hidden">
  <div class="modal-box">
    <h3>๐ฃ ุจูุงุบ ุณุฑู</h3>
    <p class="modal-hint">ูู ูุชู ุชุณุฌูู ุงุณูู ูู ุงููุธุงูุ ูุณููุนุงูู ุงูุจูุงุบ ุจุณุฑูุฉ. ุงูุฑุฌุงุก ุชูุถูุญ ุณุจุจ ุงุฎุชูุงุฑ ุงูุจูุงุบ ุงูุณุฑู.</p>
    <label>ุงููููุน / ุงูุฌูุฉ / ุงููุฑุน</label>
    <input id="s-location" class="input" placeholder="ูุซุงู: ูุณุชูุฏุน ุงูููุงุฏ โ ุงูููุทูุฉ ุงูุฎูููุฉ">
    <label>ูุตู ุงูุจูุงุบ</label>
    <textarea id="s-desc" class="textarea" placeholder="ุงูุชุจ ููุง ุชูุงุตูู ุงูุจูุงุบ..."></textarea>
    <label>ููุงุฐุง ุงุฎุชุฑุช ุฃู ูููู ุงูุจูุงุบ ุณุฑูุงูุ</label>
    <textarea id="s-reason" class="textarea" placeholder="ูุฐุง ุงูุญูู ุฅูุฒุงูู ูู ุงูุจูุงุบ ุงูุณุฑู."></textarea>
    <div class="modal-actions">
      <button class="btn btn-primary" onclick="submitSecret()">ุฅุฑุณุงู ุงูุจูุงุบ ุงูุณุฑู</button>
      <button class="btn btn-secondary" onclick="closeModal()">ุฅุบูุงู</button>
    </div>
  </div>
</div>

<!-- ููุฏุงู ุจูุงุบ ุนุงุฌู -->
<div id="modal-urgent" class="modal hidden">
  <div class="modal-box">
    <h3>๐ด ุจูุงุบ ุนุงุฌู</h3>
    <p class="modal-hint">ููุณุชุฎุฏู ููุญุงูุงุช ุงูุทุงุฑุฆุฉ ุงูุชู ุชุชุทูุจ ุชุฏุฎูุงู ููุฑูุงู. ูููู ุชุฎุตูุต ูุฐู ุงููุงูุฐุฉ ูุงุญูุงู ูุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุงุชุตุงู ูุจุงุดุฑ ุฃู ูุงุชุณุงุจ.</p>
    <div class="modal-actions">
      <button class="btn btn-primary" onclick="submitUrgent()">ุชุฃููุฏ ุชุณุฌูู ุจูุงุบ ุนุงุฌู</button>
      <button class="btn btn-secondary" onclick="closeModal()">ุฅุบูุงู</button>
    </div>
  </div>
</div>

<script src="{% static 'assets/js/common.js' %}"></script>
<script src="{% static 'assets/js/system.js' %}"></script>

<script>


  // ุฅุฎูุงุก ุฑูุงุจุท ุงููุงุฆูุฉ ุญุณุจ ุตูุงุญูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
  
document.addEventListener("DOMContentLoaded", function () {

  const user = ohsmsGetCurrentUser();

  // ุฅุฐุง ูุงููู ูุณุชุฎุฏูุ ูุง ูุฎูู ุดูุก
  if(!user){
    return;
  }

  // ุฅุฐุง ููู ูุณุชุฎุฏู ูุจุฏุฃ ููุญุต ุงูุตูุงุญูุงุช
  var items = document.querySelectorAll("[data-perm]");
  items.forEach(function (item) {
    var perm = item.getAttribute("data-perm");
    if (perm && !ohsmsHasPermission(perm)) {
      item.style.display = "none";
    }
  });
});
</script>

<a href="{% url 'secret_track' %}">ูุชุงุจุนุฉ ุจูุงุบ ุณุฑู</a>


</body>
</html>
